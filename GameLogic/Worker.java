package GameLogic;

//
//
//  Generated by StarUML(tm) Java Add-In
//
//  @ Project : 6projlab
//  @ File Name : Worker.java
//  @ Date : 2018.03.17.
//  @ Author : Gyöngyösi Péter
//
//



/* Dolog típusú munkás.
 * Tárolja a nevét és a pontjait. 
 */
public class Worker extends Thing implements Moveable {
	
	private String name;
	private int points = 0;
	
	/* Munkás nevének beállítása */
	public void SetName(String n) {
		name = n;
	}
	
	/* Munkás nevének lekérdezése */
	public String GetName() {
		return name;
	}
	
	/* Munkás pontjainak lekérdezése */
	public int GetPoints() {
		return points;
	}
	
	/* Munkás meghal.
	 * Törlõdik a mezõrõl és a raktár nyílvántartásából
	 */
	public void Die() {
		GetField().Remove();
		GetField().GetWarehouse().SetWorkerNumber(GetField().GetWarehouse().GetWorkerNumber()-1);
	}
	
	/* Munkás pontjainak növelése 1-el. */
	public void AddPoint() {
		points++;
	}
	
	/* Munkás adott irányba mozgatása.
	 * Ha mozoghat az adott irányba, akkor mezõváltás.
	 */
	public boolean Move(Direction dir) {
		if(GetField().GetNeighbor(dir).HitBy(dir, this)) {
			GetField().Remove();
			GetField().GetNeighbor(dir).Add(this);
			return true;
		}
		return false;
	}
	
	/* Munkásnak adott irányba doboz ütközik.
	 * Ha a munkás nem mozoghat tovább az adott irányba meghal. 
	 */
	public boolean HitBy(Direction dir, Box b) {
		if(!Move(dir))
			Die();
		return true;
	}
	
	/* Munkásnak adott irányba munkás ütközik.
	 * Hamissal tér vissza. 
	 */
	public boolean HitBy(Direction dir, Worker w) {
		return false;
	}
}
